import{W as U}from"./WpTable.4156f8c9.js";import"./default-i18n.ab92175e.js";import"./constants.145da60f.js";import{_ as B,c as m,z as t,k as i,j as v,b as h,q as n,o as c,a as s,x as d,t as a,C as H,F as P,E as V}from"./_plugin-vue_export-helper.a2c961b3.js";import"./index.a915b491.js";import"./SaveChanges.6857467d.js";import{m as k,a as y}from"./vuex.esm-bundler.2b955043.js";import{B as F}from"./Checkbox.8db0d2b3.js";import{C as O,S as Y}from"./index.24cd8e71.js";import{C as D}from"./Index.e14a5090.js";import{C as G}from"./ProBadge.267c3a94.js";import{C as q}from"./Tooltip.876fbafa.js";import{G as j,a as Q}from"./Row.f8e3a585.js";import{S as J}from"./Caret.8213645d.js";import{W as K,a as X,b as Z}from"./Header.b3b592d9.js";import{W as ee,a as se}from"./Steps.89b7a1d2.js";import"./Index.d2a7b6fb.js";import"./helpers.ad3850ca.js";import"./RequiresUpdate.fe231e49.js";import"./postContent.ce215f52.js";import"./cleanForSlug.d1b7ba11.js";import"./isArrayLikeObject.5b92a7d2.js";import"./html.c2b89264.js";import"./_commonjsHelpers.f84db168.js";import"./Checkmark.1fb57726.js";import"./Logo.772357e2.js";const te={components:{BaseCheckbox:F,CoreAlert:O,CoreModal:D,CoreProBadge:G,CoreTooltip:q,GridColumn:j,GridRow:Q,SvgCircleQuestionMark:Y,SvgClose:J,WizardBody:K,WizardCloseAndExit:ee,WizardContainer:X,WizardHeader:Z,WizardSteps:se},mixins:[U],data(){return{loading:!1,stage:"smart-recommendations",showModal:!1,loadingModal:!1,strings:{setupSiteAnalyzer:this.$t.__("Setup Site Analyzer + Smart Recommendations",this.$td),description:this.$t.sprintf(this.$t.__("Get helpful suggestions from %1$s on how to optimize your website content, so you can rank higher in search results.",this.$td),"AIOSEO"),yourEmailAddress:this.$t.__("Your Email Address",this.$td),yourEmailIsNeeded:this.$t.__("Your email is needed so you can receive SEO recommendations. This email will also be used to connect your site with our SEO API.",this.$td),helpMakeAioseoBetter:this.$t.sprintf(this.$t.__("Help make %1$s better for everyone",this.$td),"AIOSEO"),yesCountMeIn:this.$t.__("Yes, count me in",this.$td),wouldYouLikeToPurchase:this.$t.__("Would you like to purchase and install the following features now?",this.$td),theseFeaturesAreAvailable:this.$t.__("An upgrade is required to unlock the following features.",this.$td),youWontHaveAccess:this.$t.__("You won't have access to this functionality until the extensions have been purchased and installed.",this.$td),illDoItLater:this.$t.__("I'll do it later",this.$td),purchaseAndInstallNow:this.$t.__("Purchase and Install Now",this.$td),bonusText:this.$t.sprintf(this.$t.__("%1$sBonus:%2$s You can upgrade your plan today and %3$ssave %4$s off%5$s (discount auto-applied).",this.$td),"<strong>","</strong>","<strong>",this.$constants.DISCOUNT_PERCENTAGE,"</strong>"),usageTrackingTooltip:this.$t.sprintf(this.$t.__("Complete documentation on usage tracking is available %1$shere%2$s.",this.$td),this.$t.sprintf('<strong><a href="%1$s" target="_blank">',this.$links.getDocUrl("usageTracking")),"</a></strong>")}}},computed:{...k(["internalOptions"]),...k("wizard",{smartRecommendations:"smartRecommendations",presetFeatures:"features"}),selectedFeaturesNeedsUpsell(){let o=!1;return this.presetFeatures.forEach(r=>{this.needsUpsell(this.features.find(g=>g.value===r))&&(o=!0)}),o}},methods:{...y(["saveConnectToken"]),...y("wizard",["saveWizard"]),purchase(){this.modalLoading=!0;const o=`&license-redirect=${btoa(this.$aioseo.urls.aio.wizard)}#/license-key`;window.open("https://aioseo.com/pricing/?features[]="+this.getSelectedUpsellFeatures.map(r=>r.value).join("&features[]=")+o),this.$router.push(this.getNextLink)},saveAndContinue(){this.loading=!0,this.saveWizard("smartRecommendations").then(()=>{if(!this.selectedFeaturesNeedsUpsell)return this.$router.push(this.getNextLink);this.showModal=!0,this.loading=!1})},skipStep(){this.saveWizard(),this.$router.push(this.getNextLink)},preventUncheck(o){o.preventDefault(),o.stopPropagation()}},mounted(){this.smartRecommendations.accountInfo=this.$aioseo.user.data.data.user_email}},oe={class:"aioseo-wizard-smart-recommendations"},ne={class:"header"},ie={class:"description"},re={class:"aioseo-settings-row no-border small-padding"},ae={class:"settings-name"},le={class:"name small-margin"},de={class:"aioseo-description"},ce={key:0,class:"aioseo-settings-row no-border no-margin small-padding"},ue={class:"settings-name"},me={class:"name small-margin"},_e=["innerHTML"],pe={class:"go-back"},he=s("div",{class:"spacer"},null,-1),ge={class:"aioseo-modal-body"},fe=["innerHTML"],ve={class:"settings-name"},ke={class:"name small-margin"},ye={class:"aioseo-description-text"},we=["innerHTML"],be={class:"actions"},Ce=s("div",{class:"spacer"},null,-1),$e={class:"go-back"};function Ae(o,r,g,ze,e,u){const w=n("wizard-header"),b=n("wizard-steps"),C=n("base-input"),$=n("svg-circle-question-mark"),A=n("core-tooltip"),z=n("base-toggle"),_=n("router-link"),p=n("base-button"),T=n("wizard-body"),S=n("wizard-close-and-exit"),M=n("wizard-container"),L=n("svg-close"),x=n("core-pro-badge"),f=n("grid-column"),I=n("base-checkbox"),N=n("grid-row"),E=n("core-alert"),W=n("core-modal");return c(),m("div",oe,[t(w),t(M,null,{default:i(()=>[t(T,null,{footer:i(()=>[s("div",pe,[t(_,{to:o.getPrevLink,class:"no-underline"},{default:i(()=>[d("←")]),_:1},8,["to"]),d("   "),t(_,{to:o.getPrevLink},{default:i(()=>[d(a(e.strings.goBack),1)]),_:1},8,["to"])]),he,t(p,{type:"gray",onClick:u.skipStep},{default:i(()=>[d(a(e.strings.skipThisStep),1)]),_:1},8,["onClick"]),t(p,{type:"blue",loading:e.loading,onClick:u.saveAndContinue},{default:i(()=>[d(a(e.strings.saveAndContinue)+" →",1)]),_:1},8,["loading","onClick"])]),default:i(()=>[t(b),s("div",ne,a(e.strings.setupSiteAnalyzer),1),s("div",ie,a(e.strings.description),1),s("div",re,[s("div",ae,[s("div",le,a(e.strings.yourEmailAddress),1)]),t(C,{size:"medium",modelValue:o.smartRecommendations.accountInfo,"onUpdate:modelValue":r[0]||(r[0]=l=>o.smartRecommendations.accountInfo=l)},null,8,["modelValue"]),s("div",de,a(e.strings.yourEmailIsNeeded),1)]),o.$isPro?h("",!0):(c(),m("div",ce,[s("div",ue,[s("div",me,[d(a(e.strings.helpMakeAioseoBetter)+" ",1),t(A,null,{tooltip:i(()=>[s("div",{innerHTML:e.strings.usageTrackingTooltip},null,8,_e)]),default:i(()=>[t($)]),_:1})])]),t(z,{modelValue:o.smartRecommendations.usageTracking,"onUpdate:modelValue":r[1]||(r[1]=l=>o.smartRecommendations.usageTracking=l)},{default:i(()=>[d(a(e.strings.yesCountMeIn),1)]),_:1},8,["modelValue"])]))]),_:1}),t(S)]),_:1}),e.showModal?(c(),v(W,{key:0,"no-header":"",onClose:r[4]||(r[4]=l=>e.showModal=!1)},{body:i(()=>[s("div",ge,[s("button",{class:"close",onClick:r[3]||(r[3]=H(l=>e.showModal=!1,["stop"]))},[t(L,{onClick:r[2]||(r[2]=l=>e.showModal=!1)})]),s("h3",null,a(e.strings.wouldYouLikeToPurchase),1),s("div",{class:"available-features",innerHTML:e.strings.theseFeaturesAreAvailable},null,8,fe),(c(!0),m(P,null,V(o.getSelectedUpsellFeatures,(l,R)=>(c(),m("div",{key:R,class:"aioseo-settings-row feature-grid small-padding medium-margin"},[t(N,null,{default:i(()=>[t(f,{xs:"11"},{default:i(()=>[s("div",ve,[s("div",ke,[d(a(l.name)+" ",1),o.needsUpsell(l)?(c(),v(x,{key:0})):h("",!0)]),s("div",ye,a(l.description),1)])]),_:2},1024),t(f,{xs:"1"},{default:i(()=>[t(I,{round:"",class:"no-clicks",type:"green",modelValue:!0,onClick:u.preventUncheck},null,8,["onClick"])]),_:1})]),_:2},1024)]))),128)),s("div",{class:"available-features no-access",innerHTML:e.strings.youWontHaveAccess},null,8,we),s("div",be,[Ce,s("div",$e,[t(_,{to:o.getNextLink},{default:i(()=>[d(a(e.strings.illDoItLater),1)]),_:1},8,["to"])]),t(p,{type:"green",loading:e.loadingModal,onClick:u.purchase},{default:i(()=>[d(a(e.strings.purchaseAndInstallNow),1)]),_:1},8,["loading","onClick"])]),t(E,{type:"yellow",innerHTML:e.strings.bonusText},null,8,["innerHTML"])])]),_:1})):h("",!0)])}const Ze=B(te,[["render",Ae]]);export{Ze as default};
